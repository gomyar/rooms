
State:
 - state object sends diff for all changes made

 - DictState ListState InventoryState

 - internal & external state

 - expose all actor state to admin

 - complex state objects (tiered, automatic updated for each)
   - to be used for complex actor fields like inventory, chat, quest log etc.


Dbase:
 - container save queue


Master:
 - manage room queue - single gthread for managing rooms - requests for the rooms waits on the gthread for the room to come up


Bugs:
 - admin receiving everyone's updates again

 - steering behaviour at edge of room causes loop lock

 - manage_room may be called twice, creating two rooms on node

 - the queues are leaking messages (messages not be propagated are just left)


Nice to haves:
 - create objects for map creation and export scripts and normalize with api
    (i.e. Room() object is the same room in the app as the scripts)

 - the error reporting in this guy needs tidying
 - need ATs - inter-node movement etc

 - add version tag + version number to setup.py

 - add check for existing scripts (scripts which are assumed to exist: game_script.py player_script.py)


 - settings for map url
 - settings for master domain
 - settings for node domain(s) (possibly startup option on node)

 - buggered if this api isn't crying out to be RESTful

 - learn how bower works

 - add master_domain to master and node

 - node polls dbase for actors entering rooms (mongo query-update)

 - check RPCWaitsExceptions for:
   - player moves room to offline node
   - actor (npc) moves room to offline node

   - master.actor_entered - if room offline, send wait
   - node._send_actor_entered_message - if player and got wait, redirect to master

 - if a room is being torn down:
   - set it to offline in master
   - any node (player) requests for that room are bounced to master
   - any npc requests for that room are ignored
     - npc should restore when/if room comes back up again
   - any player connections for that room are waited

 - get a "connecting/loading" bit going on the js gui

 - automatic websocket keep alive

 - saves - save data to mongo on events etc

 - remove room when bored

 - master server
   - implement room creation / remove as queue on single gthread
   - queue player connects behind room queue
     - waiting list

 - instanced rooms
